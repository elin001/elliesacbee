aes(label = name),
fill = "gray95",
size = 2.5,
alpha = 0.9
) + scale_fill_viridis_c("", labels = percent_format(5)) + labs(
title = "Where has median income increased the most?",
subtitle = "Sacramento Counties 2012-2021") + theme_void()
library(tidyverse)
library(tidycensus)
library(sf)
library(ggplot2)
library(scales)
years <- lst(2019,2023)
my_counties <- c("Sacramento", "Yolo", "Placer", "El Dorado", "Sutter", "Amador", "Yuba")
acs2023 <- load_variables(2023, "acs5", cache=TRUE)
acs2023 <- load_variables(2023, "acs1", cache=TRUE)
acs2022 <- load_variables(2023, "acs1", cache=TRUE)
acs2022 <- load_variables(2023, "acs5", cache=TRUE)
acs2022 <- load_variables(2022, "acs5", cache=TRUE)
acs2021 <- load_variables(2021, "acs5", cache=TRUE)
View(acs2021)
library(tidyverse)
library(tidycensus)
library(dplyr)
library(labeling)
library(scales)
acs2020_var <- load_variables(2020, "acs5", cache=TRUE)
dcs2020_var <- load_variables(2020, "pl", cache=TRUE)
malepop <- get_acs(geography = "county",
variables = "B01001_002",
state = "MO",
year = 2021,
survey = "acs1")
mopop1 <- get_estimates(geography = "county",
state = "MO",
product = "characteristics",
breakdown = c("SEX", "AGEGROUP"),
breakdown_labels = TRUE,
year = 2019)
mopop1_filtered <- filter(mopop, str_detect(AGEGROUP, "^Age"),
SEX != "Both sexes") %>%
mutate(value = ifelse(SEX == "Male", -value, value))
mopop2 <- get_estimates(geography = "county",
state = "MO",
county = "Boone",
product = "characteristics",
breakdown = c("SEX", "AGEGROUP"),
breakdown_labels = TRUE,
year = 2019)
mopop2_filtered <- filter(mopop2, str_detect(AGEGROUP, "^Age"),
SEX !="Both sexes") %>%
mutate(value = ifelse(SEX =="Male", -value, value))
ggplot(malepop1_filtered, aes(x = value, y = AGEGROUP, fill = SEX)) +
geom_col() +
theme_minimal(base_family = "Helvetica",
base_size = 12) +
scale_x_continuous(labels = ~ number_format(scale = .001, suffix = "k")(abs(.x)), limits = 140000 * c(-1,1)) +
scale_y_discrete(labels = ~ str_remove_all(.x, "Age\\s|\\syears")) +
labs(x = "",
y = "2019 Census Bureau population estimate",
title = "Population Pyramid of Missouri",
fill = "",
caption = "Source: US Census Bureau population estimates")
ggplot(malepop, aes(x = value, y = AGEGROUP, fill = SEX)) +
geom_col() +
theme_minimal(base_family = "Helvetica",
base_size = 12) +
scale_x_continuous(labels = ~ number_format(scale = .001, suffix = "k")(abs(.x)), limits = 140000 * c(-1,1)) +
scale_y_discrete(labels = ~ str_remove_all(.x, "Age\\s|\\syears")) +
labs(x = "",
y = "2019 Census Bureau population estimate",
title = "Population Pyramid of Missouri",
fill = "",
caption = "Source: US Census Bureau population estimates")
ggplot(mopop1_filtered, aes(x = value, y = AGEGROUP, fill = SEX)) +
geom_col() +
theme_minimal(base_family = "Helvetica",
base_size = 12) +
scale_x_continuous(labels = ~ number_format(scale = .001, suffix = "k")(abs(.x)), limits = 140000 * c(-1,1)) +
scale_y_discrete(labels = ~ str_remove_all(.x, "Age\\s|\\syears")) +
labs(x = "",
y = "2019 Census Bureau population estimate",
title = "Population Pyramid of Missouri",
fill = "",
caption = "Source: US Census Bureau population estimates")
ggplot(mopop2_filtered, aes(x = value, y = AGEGROUP, fill = SEX)) +
geom_col() +
theme_minimal(base_family = "Helvetica",
base_size = 12) +
scale_x_continuous(labels = ~ number_format(scale = .001, suffix = "k")(abs(.x)), limits = 140000 * c(-1,1)) +
scale_y_discrete(labels = ~ str_remove_all(.x, "Age\\s|\\syears")) +
labs(x = "",
y = "2019 Census Bureau population estimate",
title = "Population Pyramid of Missouri",
fill = "",
caption = "Source: US Census Bureau population estimates")
ggplot(mopop2_filtered, aes(x = value, y = AGEGROUP, fill = SEX)) +
geom_col() +
theme_minimal(base_family = "Helvetica",
base_size = 12) +
scale_x_continuous(labels = ~ comma_format(scale = 1)(abs(.x)), limits = 20000 * c(-1,1)) +
scale_y_discrete(labels = ~ str_remove_all(.x, "Age\\s|\\syears")) +
labs(x = "",
y = "2019 Census Bureau population estimate",
title = "Population Pyramid of Boone County, Missouri",
fill = "",
caption = "Source: US Census Bureau population estimates")
acs2022 <- load_variables(2022, "acs5", cache=TRUE)
acs2022 <- load_variables(2022, "acs5", cache=TRUE)
acs2022 <- load_variables(2022, "acs5", cache=TRUE)
acs2022 <- load_variables(2022, "acs5", cache=TRUE)
acs2022 <- load_variables(2022, "acs5", cache=TRUE)
race_variables2021 <- <- c(
race_variables2021 <- c(
white_alone = "B02001_002",
black_alone = "B02001_003",
na_alone = "B02001_004",
asian_alone = "B02001_004",
nhpi_alone = "B02001_006",
other_alone = "B02001_007",
two_or_more = "B02001_008")
races2021 <-
acs2021 <- load_variables(2021, "acs5", cache=TRUE)
acs2022 <- load_variables(2022, "acs5", cache=TRUE)
years <- lst(2019,2023)
my_counties <- c("Sacramento", "Yolo", "Placer", "El Dorado", "Sutter", "Amador", "Yuba")
years <- lst(2021,2022)
my_counties <- c("Sacramento", "Yolo", "Placer", "El Dorado", "Sutter", "Amador", "Yuba")
multi_year <- map_dfr(years,
~ get_acs(
geography = "county",
variables = race_variables2021,
state = "CA",
county = my_counties,
year = .x,
survey = "acs1",
geometry = FALSE,
),
.id = "year") %>% select (-moe) %>% arrange(variable, NAME) %>% print()
multi_year <- map_dfr(years,
~ get_acs(
geography = "county",
variables = race_variables2021,
state = "CA",
county = my_counties,
year = 2021,
survey = "acs1",
geometry = FALSE,
),
.id = "year") %>% select (-moe) %>% arrange(variable, NAME) %>% print()
years <- lst(2018,2021)
my_counties <- c("Sacramento", "Yolo", "Placer", "El Dorado", "Sutter", "Amador", "Yuba")
multi_year <- map_dfr(years,
~ get_acs(
geography = "county",
variables = race_variables2021,
state = "CA",
county = my_counties,
year = .x,
survey = "acs1",
geometry = FALSE,
),
.id = "year") %>% select (-moe) %>% arrange(variable, NAME) %>% print()
write.csv(multi_year, "2018_2021norcalracedata.csv")
setwd("~/Desktop/elliesacbeeR/scripts")
View(multi_year)
acs2021 <- load_variables(2021, "acs5", cache=TRUE)
acs2022 <- load_variables(2022, "acs5", cache=TRUE)
acs2022 <- load_variables(2022, "acs5", cache=TRUE)
acs2022 <- load_variables(2022, "acs1", cache=TRUE)
acs2022 <- load_variables(2022, "acs1", cache=TRUE)
##define years, counties
```{r}
my_counties <- c("Sacramento", "Yolo", "Placer", "El Dorado", "Sutter", "Amador", "Yuba")
acs2022 <- load_variables(2022, "acs1", cache=TRUE)
acs2018 <- load_variables(2018, "acs1", cache=TRUE)
View(acs2018)
newyears <- lst(2018,2019)
medianage_ca <- get_acs(
geography = "county",
variables = "B01002A_001",
state = "CA",
year = .x,
survey = "acs1",
geometry = FALSE,
)
medianage_ca <- get_acs(
geography = "county",
variables = "B01002A_001",
state = "CA",
year = 2018, 2019,
survey = "acs1",
geometry = FALSE,
)
newyears <- lst(2018,2019)
years <- lst(2012,2019,2021)
my_counties <- c("Sacramento", "Yolo", "Placer", "El Dorado", "Sutter", "Amador", "Yuba")
my_variables <- c(
total_pop = "B01003_001",
median_income = "B19013_001"
)
multi_year <- map_dfr(years,
~ get_acs(
geography = "county",
variables = my_variables,
state = "CA",
county = my_counties,
year = .x,
survey = "acs1",
geometry = FALSE,
),
.id = "year") %>% select (-moe) %>% arrange(variable, NAME) %>% print()
library(tidyverse)
library(tidycensus)
library(sf)
library(ggplot2)
library(scales)
acs2018 <- load_variables(2018, "acs1", cache=TRUE)
years <- lst(2018,2019)
medianage_ca <- get_acs(
geography = "county",
variables = "B01002A_001",
state = "CA",
year = .x,
survey = "acs1",
geometry = FALSE),
years <- lst(2018,2019)
medianage_ca <- get_acs(
geography = "county",
variables = "B01002A_001",
state = "CA",
year = .x,
survey = "acs1",
geometry = FALSE)
years <- lst(2018,2019)
medianage_ca <- get_acs(
geography = "county",
variables = "B01002A_001",
state = "CA",
year = .x,
survey = "acs1",
geometry = FALSE)
medianage_ca <- map_dfr(years,
~ get_acs(
geography = "county",
variables = "B01002A_001",
state = "CA",
year = .x,
survey = "acs1",
geometry = FALSE,
),
.id = "year") %>% select (-moe) %>% arrange(variable, NAME) %>% print()
write.csv("medianage_ca",medianage_ca.csv)
write.csv(medianage_ca,"medianage_ca.csv")
acs2018 <- load_variables(2018, "acs5", cache=TRUE)
years <- lst(2018,2019)
medianage_ca <- map_dfr(years,
~ get_acs(
geography = "county",
variables = "B01002A_001",
state = "CA",
year = .x,
survey = "acs5",
geometry = FALSE,
),
.id = "year") %>% select (-moe) %>% arrange(variable, NAME) %>% print()
library(tidyverse)
library(readxl)
outs <- read_excel("data/county-to-county-2016-2020-previous-residence-sort (1).xlsx")
outs <- read_excel("data/outs.xlsx")
library(readxl)
library(tidyverse)
outs <- read_excel("data/outs.xlsx", sheet=1)
outs <- read_excel("~/Desktop/elliesacbeeR/data/outs.xlsx", sheet=1)
View(outs)
outs %>% count('Current Residence State Code')
outs %>% filter('Current Residence State Code' == "006")
acs2022 <-load_variables(2022, "acs1", cache = TRUE)
library(tidyverse)
library(tidycensus)
library(sf)
library(ggplot2)
library(scales)
acs2022 <-load_variables(2022, "acs1", cache = TRUE)
library(tidyverse)
library(tidycensus)
library(sf)
library(ggplot2)
library(scales)
years <- lst(2012,2019,2021)
my_counties <- c("Sacramento", "Yolo", "Placer", "El Dorado")
my_variables <- c(
total_pop = "B01003_001",
median_income = "B19013_001"
)
multi_year <- map_dfr(years,
~ get_acs(
geography = "county",
variables = my_variables,
state = "CA",
county = my_counties,
year = .x,
survey = "acs1",
geometry = FALSE,
),
.id = "year") %>% select (-moe) %>% arrange(variable, NAME) %>% print()
v2021 <- load_variables(2021, "acs1", cache = TRUE)
View(v2021)
library(tidyverse)
cross_tabs <- load_csv(~/Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
cross_tabs <- load_csv(~Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
cross_tabs <- read_csv(~Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
cross_tabs <- read_csv(/~Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
cross_tabs <- read_csv(~/Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstabs <- read_csv(~/Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstabs <- read_csv(data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstabs <- read_csv(/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstabs <- read_csv(~data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstabs <- read_csv(~/Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstabs <- read_csv(/Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstabs <- read_csv(Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
library(tidyverse)
library(readxl)
crosstabs <- read_excel(~/Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstab <- read_xlsx(~/Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstab <- read_xlsx(/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstab <- read_xlsx(/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstab <- read_xlsx(/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstab <- read_xlsx(/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstab <- read_xlsx(/data/June-2023-CA-Community-Poll-Crosstabs.xlsx)
crosstab <- read_xlsx("/data/June-2023-CA-Community-Poll-Crosstabs.xlsx")
crosstab <- read_excel("data/June-2023-CA-Community-Poll-Crosstabs.xlsx")
library(tidyverse)
library(readxl)
crosstab <- read_excel("data/June-2023-CA-Community-Poll-Crosstabs.xlsx")
library(readxl)
June_2023_CA_Community_Poll_Crosstabs <- read_excel("data/June-2023-CA-Community-Poll-Crosstabs.xlsx")
crosstab <- read_excel("~/Desktop/elliesacbeeR/data/June-2023-CA-Community-Poll-Crosstabs.xlsx")
View(crosstab)
library(tidyverse)
library(rvest)
library(janitor)
library(tidyverse)
library(rvest)
library(janitor)
url <- "https://www.dol.gov/agencies/whd/state/minimum-wage/tipped"
html <- read_html(url)
html %>% html_element("table") %>% html_table() %>% clean_names
View(html)
table1 <- html %>% html_element("table") %>% html_table() %>% clean_names
View(table1)
write.csv(table1, "minimumagebystate.csv")
library(tidyverse)
hc2021 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-2001-2021.csv")
View(hc2021)
hc2021 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-2001-2021.csv")
hcp2021 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-Prosecution-survey-2004-2021.csv")
View(hcp2021)
library(readxl)
agencyname <- read_xlsx("~/Desktop/elliesacbeeR/data/Agency Code Jurisdiction List_07072022.xlsx")
View(agencyname)
hc2021 %>% group_by("MostSeriousBias")
hc2021 %>% group_by("MostSeriousBias") %>% arrange(desc())
hc2021 %>% group_by("MostSeriousBias") %>% filter("MostSeriousBias" == "Anti-Asian")
hc2021 %>% group_by("MostSeriousBias") %>% summarise(total = sum("TotalNumberOfVictims")
hc2021 %>% group_by("MostSeriousBias") %>% summarise(total = sum("TotalNumberOfVictims")
hc2021 %>% group_by("MostSeriousBias") %>% summarise(total = sum("TotalNumberOfVictims")
hc2021 %>% group_by("MostSeriousBias") %>% summarise(total = sum("TotalNumberOfVictims"))
library(tidyverse)
library(readxl)
hc2021 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-2001-2021.csv")
hcp2021 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-Prosecution-survey-2004-2021.csv")
agencyname <- read_xlsx("~/Desktop/elliesacbeeR/data/Agency Code Jurisdiction List_07072022.xlsx")
hc2021 %>% group_by("ClosedYear") %>% filter("MostSeriousBias" == `Anti-Black or African American`)
hc2021 %>% group_by("ClosedYear") %>% filter("MostSeriousBias" = `Anti-Black or African American`)
hc2021 %>% group_by("ClosedYear") %>% filter(`MostSeriousBias == Anti-Black or African American`)
hc2021 %>% group_by("ClosedYear") %>% filter("MostSeriousBias == `Anti-Black or African American`")
hc2021 %>% group_by("ClosedYear") %>% filter("MostSeriousBias" == `Anti-Black or African American`)
hc2021 %>% group_by("ClosedYear") %>% filter("MostSeriousBias"==`Anti-Black or African American`)
hc2021 %>% group_by("ClosedYear") %>% filter("MostSeriousBias"=="Anti-Black or African American")
hc2021 %>% group_by("ClosedYear")
hc2021 %>% filter("MostSeriousBias"=="Anti-Black or African American")
hc2021 %>% group_by("ClosedYear") %>% count("MostSeriousBias" == "Anti-Black or African American")
hc2021 %>% count("MostSeriousBias" == "Anti-Black or African American")
hc2021 %>% filter("MostSeriousBias"=="Anti-Black or African American")
library(janitor)
hc2021 %>% arrange(desc("TotalNumberofVictims"))
hc2021 %>% arrange(desc("TotalNumberofVictims"))
library(tidyverse)
library(readxl)
library(janitor)
hc2021 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-2001-2021.csv")
hcp2021 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-Prosecution-survey-2004-2021.csv")
agencyname <- read_xlsx("~/Desktop/elliesacbeeR/data/Agency Code Jurisdiction List_07072022.xlsx")
hc2021 %>% group_by(ClosedYear)
hc2021 %>% group_by(ClosedYear) %>% arrange(desc(TotalNumberOfVictims))
library(tidyverse)
library(readxl)
library(janitor)
hc2021 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-2001-2021.csv")
hcp2021 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-Prosecution-survey-2004-2021.csv")
agencyname <- read_xlsx("~/Desktop/elliesacbeeR/data/Agency Code Jurisdiction List_07072022.xlsx")
hc2021 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == `Anti-Black or African American`)
hc2021 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Black or African American")
hc2021 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Black or African American") %>% arrange(desc(TotalNumberOfIndividualVictims))
anti_black_over_time <- hc2021 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Black or African American") %>% arrange(desc(TotalNumberOfIndividualVictims))
library(ggplot2)
View(anti_black_over_time)
hc2021 %>% group_by(ClosedYear) %>% summarise(sum(TotalNumberOfVictims))
hc2021 %>% group_by(ClosedYear) %>% mutate(crimes_per_year = sum(TotalNumberOfVictims))
hc2021 %>% group_by(ClosedYear) %>% summarise(crimes_per_year = sum(TotalNumberOfVictims))
anti_black_over_time <- hc2021 %>% group_by(ClosedYear) %>% summarise(crimes_per_year = sum(TotalNumberOfVictims))
ggplot(data=anti_black_over_time, aes(x=CLosedYear, y=crimes_per_year, group=1)) + geom_line()+ geom_point()
hc2022 <- read_csv("~/Desktop/elliesacbeeR/data/Hate-2001-2022f.csv")
hcp2022 <- read_csv("~/Desktop/elliesacbeeR/data/Hate Crime Prosecution Survey 2004-2022_Final.csv")
hc2022 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Black or African American") %>% arrange(desc(TotalNumberOfIndividualVictims))
anti_black_over_time <- hc2022 %>% group_by(ClosedYear) %>% summarise(crimes_per_year = sum(TotalNumberOfVictims))
View(hc2022)
View(hcp2022)
ggplot(data=anti_black_over_time, aes(x=CLosedYear, y=crimes_per_year, group=1)) + geom_line()+ geom_point()
ggplot(data=anti_black_over_time, aes(x="CLosedYear", y=crimes_per_year, group=1)) + geom_line()+ geom_point()
ggplot(data=anti_black_over_time, aes(x="CLosedYear", y="crimes_per_year", group=1)) + geom_line()+ geom_point()
hc2022 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Asian")
hc2022 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Asian") %>% summarise(victims_per_year = sum(TotalNumberOfVictims))
hc2022 %>% filter(County = 34)
hc2022 %>% filter(County == 34)
hc2022 %>% filter(County == 34) %>% group_by(ClosedYear) %>% summarise(victims_per_year = sum(TotalNumberOfVictims))
hc2022 %>% filter(County == 34) %>% group_by(ClosedYear) %>% summarise(victims_per_year = sum(TotalNumberOfIndividualVictims))
hc2022 %>% filter(County == 34) %>% group_by(ClosedYear) %>% summarise(victims_per_year = sum(TotalNumberOfVictims))
saccounty <- hc2022 %>% filter(County == 34) %>% group_by(ClosedYear) %>% summarise(victims_per_year = sum(TotalNumberOfVictims))
View(saccounty)
saccounty <- hc2022 %>% filter(County == 34)
View(saccounty)
write.csv(saccounty, "sacramentocounty2001-2022")
write.csv(saccounty, "sacramentocounty2001-2022.csv")
eldoradocounty <- hc2022 %>% filter(County == 09)
View(eldoradocounty)
eldoradocounty %>% filter(ClosedYear) %>%  summarise(number_of_offenders = sum(TotalNumberOfSuspects))
eldoradocounty %>% filter(ClosedYear == 2022) %>%  summarise(number_of_offenders = sum(TotalNumberOfSuspects))
hc2022 %>% filter(County == 34,09,57,31)
hc2022 %>% filter(County == 34, 09, 57, 31)
hc2022 %>% filter(County == 34, 9, 57, 31)
write.csv(hc2022, "hatecrimehistorical.csv")
write.csv(hcp2022, "hatecrimeprosecutorial.csv")
write.csv(agencyname, "agencynames.csv")
hc2022 %>% filter(County == 34) %>% group_by(MostSeriousBias) %>% count()
hc2022 %>% filter(County == 34) %>% group_by(MostSeriousBias) %>% count() %>% arrange(desc())
hc2022 %>% filter(County == 34) %>% group_by(MostSeriousBias) %>% count() %>% arrange(desc(TotalNumberofVictims))
hc2022 %>% filter(County == 34) %>% group_by(MostSeriousBias) %>% count(TotalNumberOfVictims)
hc2022 %>% filter(County = 34) %>% filter(ClosedYear = 2022) %>% group_by(MostSeriousBias) %>% count(TotalNumberOfVictims)
hc2022 %>% filter(County == 34) %>% filter(ClosedYear == 2022) %>% group_by(MostSeriousBias) %>% count(TotalNumberOfVictims)
hc2022 %>% group_by(Closedyear) %>% filter(County == 34 | County == 31)
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31)
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57)
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% summarise(victims_per_year = sum(TotalNumberOfVictims))
Anti-Asian") %>% summarise(victims_per_year = sum(TotalNumberOfVictims))
Anti-Asian") %>% summarise(victims_per_year = sum(TotalNumberOfVictims))
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57 & MostSeriousBias == "Anti-Asian") %>% summarise(victims_per_year = sum(TotalNumberOfVictims))
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57 & MostSeriousBias == "Anti-Asian")
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57 & MostSeriousBias == "Anti-Asian") %>% summarise(sum(TotalNumberOfVictims))
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian")
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian") %>% summarise(sum(TotalNumberOfVictims))
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian") %>% summarise(anti-asian = sum(TotalNumberOfVictims))
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian") %>% summarise(anti-asian = sum(TotalNumberOfVictims))
hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian") %>% summarise(anti_asian = sum(TotalNumberOfVictims))
anti-asian <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian") %>% summarise(anti_asian = sum(TotalNumberOfVictims))
antiasian <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian") %>% summarise(anti_asian = sum(TotalNumberOfVictims))
antiblack <- hchc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Black or African American") %>% summarise(anti_asian = sum(TotalNumberOfVictims))
antiblack <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Black or African American") %>% summarise(anti_asian = sum(TotalNumberOfVictims))
forgraph <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian" | MostSeriousBias == "Anti-Black or African American" | MostSeriousBias == "Anti-Jewish")
View(forgraph)
antilgbtq <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Gay (Male)" | MostSeriousBias == "Anti-Lesbian" | MostSeriousBias == "Anti-Transgender" | MostSeriousBias == "Anti-Lesbian/Gay/Bisexual or Transgender (Mixed Group)")  %>% summarise(anti_asian = sum(TotalNumberOfVictims))
forgraph1 <- df(antijewish, antiblack)
forgraph1 <- df(antijewish, antiblack)
forgraph <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian" | MostSeriousBias == "Anti-Black or African American" | MostSeriousBias == "Anti-Jewish" | MostSeriousBias == "Anti-Gay (Male)" | MostSeriousBias == "Anti-Lesbian" | MostSeriousBias == "Anti-Transgender" | MostSeriousBias == "Anti-Lesbian/Gay/Bisexual or Transgender (Mixed Group)")
View(forgraph)
antiasian <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian") %>% summarise(anti_asian = sum(TotalNumberOfVictims))
antiblack <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Black or African American") %>% summarise(anti_black = sum(TotalNumberOfVictims))
antijewish <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Jewish") %>% summarise(anti_jewish = sum(TotalNumberOfVictims))
antilgbtq <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Gay (Male)" | MostSeriousBias == "Anti-Lesbian" | MostSeriousBias == "Anti-Transgender" | MostSeriousBias == "Anti-Lesbian/Gay/Bisexual or Transgender (Mixed Group)")  %>% summarise(anti_lgbtq = sum(TotalNumberOfVictims))
View(antiasian)
antihispanic <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Hispanic or Latino") %>% summarise(anti_hispanic = sum(TotalNumberOfVictims))
write.csv(antiasian, "antiasian.csv")
write.csv(antiblack, "antiblack.csv")
write.csv(antijewish, "antijewish.csv")
write.csv(antilgbtq, "antilgbtq.csv")
write.csv(antihispanic, "antihispanic.csv")
antiasian <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>% filter(MostSeriousBias == "Anti-Asian") %>% summarise(anti_asian = sum(TotalNumberOfVictims))
antitrans <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>%filter(MostSeriousBias == "Anti-Transgender") %>% summarise(anti_trans = sum(TotalNumberOfVictims))
View(antitrans)
antitransstatewide <- hc2022 %>% group_by(ClosedYear) %>%filter(MostSeriousBias == "Anti-Transgender") %>% summarise(anti_trans = sum(TotalNumberOfVictims))
View(antitransstatewide)
antitransfourcounty <- hc2022 %>% group_by(ClosedYear) %>% filter(County == 34 | County == 31 | County == 9 | County == 57) %>%filter(MostSeriousBias == "Anti-Transgender") %>% summarise(anti_trans = sum(TotalNumberOfVictims))
antitransstatewide <- hc2022 %>% group_by(ClosedYear) %>%filter(MostSeriousBias == "Anti-Transgender") %>% summarise(anti_trans = sum(TotalNumberOfVictims))
antiaasianstatewide <- hc2022 %>% group_by(ClosedYear) %>%filter(MostSeriousBias == "Anti-Asian") %>% summarise(anti_asian = sum(TotalNumberOfVictims))
antiblackstatewide <- hc2022 %>% group_by(ClosedYear) %>%filter(MostSeriousBias == "Anti-Black or African American") %>% summarise(anti_black = sum(TotalNumberOfVictims))
antilgbtqstatewide <- hc2022 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Gay (Male)" | MostSeriousBias == "Anti-Lesbian" | MostSeriousBias == "Anti-Transgender" | MostSeriousBias == "Anti-Lesbian/Gay/Bisexual or Transgender (Mixed Group)")  %>% summarise(anti_lgbtq = sum(TotalNumberOfVictims))
antijewishstatewide <- hc2022 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Jewish") %>% summarise(anti_jewish = sum(TotalNumberOfVictims))
antihispanicstatewide <- hc2022 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Hispanic or Latino") %>% summarise(anti_hispanic = sum(TotalNumberOfVictims))
write.csv(antiasianstatewide, "antiasiansw.csv")
write.csv(antiasianstatewide, "antiasiansw.csv")
write.csv(antiaasianstatewide, "antiasiansw.csv")
write.csv(antiblackstatewide, "antiblacksw.csv")
write.csv(antijewishstatewide, "antijewishsw.csv")
write.csv(antilgbtqstatewide, "antilgbtqsw.csv")
write.csv(antihispanicstatewide, "antihispanicsw.csv")
write.csv(antitransfourcounty, "antitransfourcounty.csv")
write.csv(antittansstatewide, "antitranssw.csv")
write.csv(antitransstatewide, "antitranssw.csv")
violentantiasian <- hc2022 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Asian") %>% filter(MostSeriousUcrType == "Violent Crime") %>% summarise(number_of_victims = sum(TotalNumberOfVictims))
View(saccounty)
hc2022 %>% group_by(ClosedYear) %>% filter(MostSeriousBias == "Anti-Asian") %>% filter(MostSeriousUcrType == "Violent Crime") %>% summarise(number_of_victims = sum(TotalNumberOfVictims))
