irs %>% group_by(y2_countyname) %>% filter(y1_statefips == "6" & y2_statefips !=96)
irs %>% group_by(y2_countyname) %>% filter(y1_statefips == "6" & y2_statefips !=96 & y2_statefips !=96)
irs %>% group_by(y2_countyname) %>% filter(y1_statefips == "6" & y2_statefips !=96 & y2_statefips !=97)
irs %>% group_by(y2_countyname) %>% filter(y1_statefips == "6" & y2_statefips !=96 & y2_statefips !=98)
irs %>% group_by(y2_countyname) %>% filter(y1_statefips == "6" & y2_statefips !=96 & y2_statefips !=97 & y2_statefips !=98)
nosummaryrows <-irs %>% group_by(y2_countyname) %>% filter(y1_statefips == "6" & y2_statefips !=96 & y2_statefips !=97 & y2_statefips !=98)
View(nosummaryrows)
nosummaryrows <-irs %>% group_by(y2_countyname) %>% filter(y1_statefips == "6" & y2_statefips !=96 & y2_statefips !=97 & y2_statefips !=98)
library(tidyverse)
library(readxl)
outs <- read_excel("~/Desktop/elliesacbeeR/data/outs.xlsx", sheet=1)
irs <- read.csv("~/Desktop/elliesacbeeR/data/countyoutflow2021.csv")
nosummaryrows <-irs %>% group_by(y2_countyname) %>% filter(y1_statefips == "6" & y2_statefips !=96 & y2_statefips !=97 & y2_statefips !=98)
View(nosummaryrows)
nosummaryrows %>% filter(y1_countyfips == 34 | y1_countyfips == 31 | y1_countyfips == 9 | y1_countyfips == 57)
irs %>% filter(y1_countyfips == 34 | y1_countyfips == 31 | y1_countyfips == 9 | y1_countyfips == 57)
irs %>% filter(y1_countyfips == 34 | y1_countyfips == 31 | y1_countyfips == 9 | y1_countyfips == 57 & y1_statefips == 6)
irs %>% filter(y1_countyfips == 34 | y1_countyfips == 31 | y1_countyfips == 9 | y1_countyfips == 57) %>% filter(y1_statefips == 6)
v2021 <- load_variables(2021, "acs1", cache = TRUE)
library(tidyverse)
library(tidycensus)
v2021 <- load_variables(2021, "acs1", cache = TRUE)
View(v2021)
traveltimesbysex <- get_acs(geography = "us",
variables = "B08012_001",
year = 2021,
survey = "acs1",
geometry = TRUE)
traveltimesbysex <- get_acs(geography = "us",
variables = "B08012_001",
year = 2021,
survey = "acs1",
geometry = TRUE) %>% print()
traveltimesbysex <- get_acs(geography = "us",
variables = "B08012_001",
year = 2021,
survey = "acs1",
geometry = FALSE)
View(traveltimesbysex)
traveltimesbysex <- get_acs(geography = "state",
variables = "B08012_001",
year = 2021,
survey = "acs1",
geometry = FALSE)
View(traveltimesbysex)
traveltimesbysex <- get_acs(geography = "state",
variables = "B08303_001",
year = 2021,
survey = "acs1",
geometry = FALSE)
traveltimesbysex <- get_acs(geography = "state",
variables = "B08303_001",
year = 2021,
survey = "acs1",
geometry = FALSE)
traveltimes <- get_acs(geography = "state",
variables = "B08303_001",
year = 2021,
survey = "acs1",
geometry = FALSE)
traveltimes
traveltimes %>% arrange(desc(estimate))
traveltimes %>% arrange(desc(estimate))
traveltimesbymeans <- get_acs(geography = "state",
variables = "B08534_001",
year = 2021,
suvery = "acs1",
geometry = FALSE)
traveltimes <- get_acs(geography = "state",
variables = "B08303_001",
year = 2021,
survey = "acs1",
geometry = FALSE)
View(traveltimesbymeans)
traveltimesbymeans <- get_acs(geography = "state",
variables = "C08134_001",
year = 2021,
suvery = "acs1",
geometry = FALSE)
traveltimesbymeans <- get_acs(geography = "state",
variables = "C08134_001",
year = 2021,
suvery = "acs1",
geometry = FALSE)
traveltimesbymeans <- get_acs(geography = "state",
variables = "C08134_001
",
year = 2021,
suvery = "acs1",
geometry = FALSE)
traveltimesbymeans <- get_acs(geography = "state",
variables = "C08134_001",
year = 2021,
suvery = "acs1",
geometry = FALSE)
traveltimesbymeans <- get_acs(geography = "state",
variables = "B08012_013",
year = 2021,
suvery = "acs1",
geometry = FALSE)
View(traveltimesbymeans)
v2021 %>% filter(grepl("fertility"))
v2021 %>% filter(grepl("fertility", label))
v2021 %>% filter(grepl("income", label))
v2021 %>% filter(grepl("insurance", label))
v2021 %>% filter(grepl("poverty", label))
v2021 <- load_variables(2021, "acs1", cache = TRUE)
v2021 %>% filter(grepl("income", label))
v2021 %>% filter(grepl("plumbing", label))
traveltimes <- get_acs(geography = "state",
variables = c("B24030_081","B24030_106")
year = 2021,
traveltimes <- get_acs(geography = "state",
variables = c("B24030_081","B24030_106"),
year = 2021,
survey = "acs1",
geometry = FALSE)
infoworkers <- get_acs(geography = "state",
variables = c("B24030_081","B24030_106"),
year = 2021,
survey = "acs1",
geometry = FALSE)
View(infoworkers)
infoworkers <- get_acs(geography = "state",
variables = c(male"B24030_081", female="B24030_185"),
infoworkers <- get_acs(geography = "state",
variables = c(male="B24030_081", female="B24030_185"),
year = 2021,
survey = "acs1",
geometry = FALSE)
infoworkers <- get_acs(geography = "state",
variables = c(maleinfoworkers="B24030_081", femaleinfoworkers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = FALSE)
infoworkers <- get_acs(geography = "state",
variables = c(male_info_workers="B24030_081", female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = FALSE)
infoworkers %>% arrange(desc(estimate))
v2021 %>% filter(grepl("information", label))
infoworkers <- get_acs(geography = "state",
variables = c(male_info_workers="B24030_081", female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = FALSE)
infoworkers %>% arrange(desc(estimate))
californiainfoworkers <- get_acs(geography = "county",
variables = c(male_info_workers="B24030_081", female_info_workers="B24030_185"),
state = "California",
year = 2021,
survey = "acs1",
geometry = TRUE)
View(californiainfoworkers)
californiainfoworkers <- get_acs(geography = "county",
variables = c(male_info_workers="B24030_081", female_info_workers="B24030_185"),
state = "California",
year = 2021,
survey = "acs5",
geometry = TRUE)
v2021 <-load_variables(2021, "acs5", label)
v2021 <-load_variables(2021, "acs5", cache = TRUE)
v2021_5 <-load_variables(2021, "acs5", cache = TRUE)
v2021 %>% filter(grepl("information", label))
View(v2021_5)
v2021_5 %>% filter(grepl("information", label))
infoworkers %>% group_by(NAME) %>% summarise(range(estimate))
infoworkers %>% group_by(NAME) %>% summarise(min(estimate))
infoworkers %>% group_by(NAME) %>% summarise(min(estimate), max(estimate))
femaleinfoworkers <- get_acs(geography = "county",
variables = (female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = FALSE)
femaleinfoworkers <- get_acs(geography = "state",
variables = (female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = FALSE)
maleinfoworkers <- get_acs(geography = "state",
variables = (male_info_workers="B24030_081"),
year = 2021,
survey = "acs1",
geometry = FALSE)
View(femaleinfoworkers)
infoworkers1 <- merge(x=femaleinfoworkers, y=maleinfoworkers, by="NAME")
View(infoworkers1)
femaleinfoworkers <- get_acs(geography = "state",
variables = (female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = TRUE)
maleinfoworkers <- get_acs(geography = "state",
variables = (male_info_workers="B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE)
infoworkers1 <- merge(x=femaleinfoworkers, y=maleinfoworkers, by="NAME")
infoworkers1 <- merge(x=femaleinfoworkers, y=maleinfoworkers, by="NAME")
femaleinfoworkers <- get_acs(geography = "state",
variables = (female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = FALSE)
maleinfoworkers <- get_acs(geography = "state",
variables = (male_info_workers="B24030_081"),
year = 2021,
survey = "acs1",
geometry = FALSE)
infoworkers1 <- merge(x=femaleinfoworkers, y=maleinfoworkers, by="NAME")
femaleinfoworkers <- get_acs(geography = "state",
variables = (female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = FALSE)
maleinfoworkers <- get_acs(geography = "state",
variables = (male_info_workers="B24030_081"),
year = 2021,
survey = "acs1",
geometry = FALSE)
infoworkers1 <- merge(x=femaleinfoworkers, y=maleinfoworkers, by="NAME")
femaleinfoworkers <- get_acs(geography = "state",
variables = (female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = TRUE)
maleinfoworkers <- get_acs(geography = "state",
variables = (male_info_workers="B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE)
infoworkers1 <- merge(x=femaleinfoworkers, y=maleinfoworkers, by="NAME")
df <- inner_join(femaleinfoworkers %>% as.data.frame(), maleinfoworkers %>% as.data.frame(), by="NAME")
df %<>% st_sf(sf_column_name = "geometry.x")
df %>% st_sf(sf_column_name = "geometry.x")
infoworkers1 <- merge(x=femaleinfoworkers, y=maleinfoworkers, by="NAME")
plot(infoworkers["estimate"
])
infoworkers <- get_acs(geography = "state",
variables = c(male_info_workers="B24030_081", female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = TRUE)
plot(infoworkers["estimate"])
library(tidyverse)
library(tidycensus)
library(sf)
v2021 <- load_variables(2021, "acs1", cache = TRUE)
v2021 %>% filter(grepl("information", label))
infoworkers <- get_acs(geography = "state",
variables = c(male_info_workers="B24030_081", female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = TRUE)
infoworkers %>% arrange(desc(estimate))
californiainfoworkers <- get_acs(geography = "county",
variables = c(male_info_workers="B24030_081", female_info_workers="B24030_185"),
state = "California",
year = 2021,
survey = "acs1",
geometry = TRUE)
femaleinfoworkers <- get_acs(geography = "state",
variables = (female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = TRUE)
maleinfoworkers <- get_acs(geography = "state",
variables = (male_info_workers="B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE)
infoworkers1 <- merge(x=femaleinfoworkers, y=maleinfoworkers, by="NAME")
infoworkers1 <- merge(x=femaleinfoworkers, y=maleinfoworkers, by="NAME")
View(maleinfoworkers)
infoworkers2 <- st_join(femaleinfoworkers, maleinfoworkers by="NAME")
infoworkers2 <- st_join(femaleinfoworkers, maleinfoworkers, by="NAME")
infoworkers2 <- st_join(femaleinfoworkers, maleinfoworkers, by="geometry")
infoworkers2 <- st_join(femaleinfoworkers, maleinfoworkers)
View(infoworkers2)
infoworkers2 <- st_join(femaleinfoworkers, maleinfoworkers, join = "NAME")
do.call("rbind", list(femaleinfoworkers, maleinfoworkers))
infoworkers3 <- do.call("rbind", list(femaleinfoworkers, maleinfoworkers))
View(infoworkers3)
infoworkers3 <- do.call("rbind", list(femaleinfoworkers, maleinfoworkers, by = "NAME"))
infoworkers3 <- do.call("rbind", list(femaleinfoworkers, maleinfoworkers, by = "GEOID"))
infoworkers3 <- do.call("rbind", merge(femaleinfoworkers, maleinfoworkers, by = "NAME"))
infoworkers3 <- do.call("rbind", st_join(femaleinfoworkers, maleinfoworkers, by = "NAME"))
infoworkers3 <- do.call("rbind", st_join(femaleinfoworkers, maleinfoworkers, join = "NAME"))
infoworkers3 <- do.call("rbind", st_join(femaleinfoworkers, maleinfoworkers, st_intersect = "NAME"))
infoworkers3 <- do.call("rbind", st_join(femaleinfoworkers, maleinfoworkers, st_intersect(femaleinfoworkers, maleinfoworkers, join = "NAME"))
infoworkers3 <- do.call("rbind", st_join(femaleinfoworkers, maleinfoworkers, st_intersect(femaleinfoworkers, maleinfoworkers, join = "NAME"))
infoworkers3 <- do.call("rbind", st_join(femaleinfoworkers, maleinfoworkers, st_intersect(femaleinfoworkers, maleinfoworkers, join = "NAME")
View(infoworkers3)
infoworkers3 <- do.call("rbind", list(femaleinfoworkers, maleinfoworkers, by = "GEOID"))
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
geometry = FALSE)
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1"
geometry = FALSE)
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1",
geometry = FALSE)
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1",
geometry = FALSE) %>% select(GEOID, NAME, variable, estimate) %>% spread(variable, estimate)
View(infoworkers1)
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE) %>% select(GEOID, NAME, variable, estimate) %>% spread(variable, estimate)
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE) %>% select(GEOID, NAME, variable, estimate) %>% spread(variable, estimate) %>% mutate(n = female_info_workers-male_info_workers)
plot(infoworkers1["n"])
resolution = "20m") %>% select(GEOID, NAME, variable, estimate) %>% spread(variable, estimate) %>% mutate(n = female_info_workers-male_info_workers)
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE,
resolution = "20m") %>% select(GEOID, NAME, variable, estimate) %>% spread(variable, estimate) %>% mutate(n = female_info_workers-male_info_workers)
plot(infoworkers1["n"])
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE,
resolution = "20m") %>% select(GEOID, NAME, variable, estimate) %>% spread(variable, estimate) %>% mutate(n = female_info_workers-male_info_workers) %>% shift_geometry()
library(tigris)
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE,
resolution = "20m") %>% shift_geometry() %>% select(GEOID, NAME, variable, estimate) %>% spread(variable, estimate) %>% mutate(n = female_info_workers-male_info_workers)
plot(infoworkers1["n"])
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE,
resolution = "20m") %>% shift_geometry() %>% select(GEOID, NAME, variable, estimate) %>% spread(variable, estimate) %>% mutate(difference = male_info_workers-female_info_workers)
plot(infoworkers1["difference"])
library(tidyverse)
library(tidycensus)
library(tigris)
v2021 <- load_variables(2021, "acs1", cache = TRUE)
v2021 %>% filter(grepl("information", label))
infoworkers <- get_acs(geography = "state",
variables = c(male_info_workers="B24030_081", female_info_workers="B24030_185"),
year = 2021,
survey = "acs1",
geometry = TRUE)
infoworkers %>% arrange(desc(estimate))
californiainfoworkers <- get_acs(geography = "county",
variables = c(male_info_workers="B24030_081", female_info_workers="B24030_185"),
state = "California",
year = 2021,
survey = "acs1",
geometry = TRUE)
plot(infoworkers1["difference"])
infoworkers1 <- get_acs(geography = "state",
variables = c(female_info_workers="B24030_185", male_info_workers = "B24030_081"),
year = 2021,
survey = "acs1",
geometry = TRUE,
resolution = "20m") %>% shift_geometry() %>% select(GEOID, NAME, variable, estimate) %>% spread(variable, estimate) %>% mutate(difference = male_info_workers-female_info_workers)
plot(infoworkers1["difference"])
ggplot(data = infoworkers1, aes(fill = difference)) + geom_sf(
)
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_viridis_c(option = "viridis")
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_viridis_c(option = "viridis") + scale_fill_distiller(direction = 1) +
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference between male information workers and female information workers") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_viridis_c(option = "viridis") + scale_fill_distiller(direction = 1) +
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference between male information
workers and female information
workers") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_viridis_c(option = "viridis") + scale_fill_distiller(direction = 1) +
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(palette = "viridis", direction = 1) +
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(palette = "blue", direction = 1) +
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(palette = "viridis", direction = 1) +
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(palette = "magma", direction = 1) +
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(palette = "RDPU", direction = 1) +
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) +
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_gradient()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_b()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_c()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_a()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_d()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_c()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_c(option = "E")
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_c(option = "A")
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_c(option = "B")
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_c(option = "C")
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_c(option = "D")
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_c(option = "F")
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(direction = 1) + scale_fill_viridis_c(option = "G")
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_viridis_c(option = "G")
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_viridis_c(option = "G") + scale_fill_distiller(direction = 1)
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(palette = "YlGnBu" direction = 1)
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(palette = "YlGnBu", direction = 1)
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference") +
theme_void()
ggplot(data = infoworkers1, aes(fill = difference)) +
geom_sf() +
scale_fill_distiller(palette = "YlGnBu", direction = 1)
labs(title = " How many more male workers than female workers are there in the information sector?",
caption = "Data souce: 2021 1-year ACS, US Census Bureau",
fill= "Difference") +
theme_void()
